package modify;

import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.ServerSocket;
import java.net.Socket;

public class ServerTest {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		try {
			ServerSocket server = new ServerSocket(9000);
			System.out.println("Server Listening!");
			
			while(true){
			Socket client = server.accept();
			System.out.println("connected!");
			
			//数据传输
			InputStream in = client.getInputStream();
			OutputStream out = client.getOutputStream();
			
			byte[] buffer = new byte[1024];
			in.read(buffer);
			
			String response = new String(buffer);
			System.out.println("--client request"+response);
			
			out.write((response.toUpperCase()).getBytes());
			in.close();
			out.close();
			client.close();
//			if(response.equals("exit"))
//				break;
			}
//			server.close();
			
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

}
